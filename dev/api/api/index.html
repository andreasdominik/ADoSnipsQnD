<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Documentation · ADoSnipsQnD</title><link rel="canonical" href="https://andreasdominik.github.io/ADoSnipsQnD/dev/api/api/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.svg" alt="ADoSnipsQnD logo"/></a><h1>ADoSnipsQnD</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Introduction</a></li><li><a class="toctext" href="../../snipsHermesQnD/">SnipsHermesQnD</a></li><li><a class="toctext" href="../../makeskill/">New skill tutorial</a></li><li><a class="toctext" href="../../details/">Some Details</a></li><li class="current"><a class="toctext" href>API Documentation</a><ul class="internal"><li><a class="toctext" href="#Hermes-functions-1">Hermes functions</a></li><li><a class="toctext" href="#Dialogue-manager-functions-1">Dialogue manager functions</a></li><li><a class="toctext" href="#Functions-to-handle-intents-1">Functions to handle intents</a></li><li><a class="toctext" href="#config.ini-functions-1">config.ini functions</a></li><li><a class="toctext" href="#Slot-access-functions-1">Slot access functions</a></li><li><a class="toctext" href="#MQTT-functions-1">MQTT functions</a></li><li><a class="toctext" href="#Handle-background-information-of-recognised-intent-1">Handle background information of recognised intent</a></li><li><a class="toctext" href="#Multi-language-utilities-1">Multi-language utilities</a></li><li><a class="toctext" href="#Hardware-control-1">Hardware control</a></li><li><a class="toctext" href="#Status-database-1">Status database</a></li><li><a class="toctext" href="#Scheduler-1">Scheduler</a></li><li><a class="toctext" href="#Utility-functions-1">Utility functions</a></li><li><a class="toctext" href="#Index-1">Index</a></li></ul></li><li><a class="toctext" href="../../LICENSE/">License</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API Documentation</a></li></ul><a class="edit-page" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/master/docs/src/api/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API Documentation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="API-documentation-1" href="#API-documentation-1">API documentation</a></h1><h2><a class="nav-anchor" id="Hermes-functions-1" href="#Hermes-functions-1">Hermes functions</a></h2><p>These functions publish and subscribe to Hermes MQTT-topics.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.subscribe2Intents" href="#Main.SnipsHermesQnD.subscribe2Intents"><code>Main.SnipsHermesQnD.subscribe2Intents</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">subscribe2Intents(intents, callback; moreTopics = nothing)</code></pre><p>Subscribe to one or a list of intents and listen forever and run the callback if a matching intent is recieved.</p><p><strong>Arguments:</strong></p><ul><li><code>intents</code>: Abstract String or List of Abstract Strings to define          intents to subscribe. The intents will be expanded          to topics (i.e. &quot;hermes/intent/SwitchOnLight&quot;)</li><li><code>callback</code>: Function to be executed for a incoming message</li><li><code>moreTopics</code>: keyword arg to provide additional topics to subscribe           (complete names of of topics).</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, intentMessage), where topic is a String and intentMessage a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-format) or a String, if the payload is not valid JSON. The callback function is spawned and the function is listening to the MQTT server while the callback is executed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L9-L30">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.subscribe2Topics" href="#Main.SnipsHermesQnD.subscribe2Topics"><code>Main.SnipsHermesQnD.subscribe2Topics</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">subscribe2Topics(topics, callback)</code></pre><p>Subscribe to one or a list of topics and listen forever and run the callback if a matching intent is recieved.</p><p><strong>Arguments:</strong></p><ul><li><code>topics</code>: Abstract String or List of Abstract Strings to define          topics to subscribe.</li><li><code>callback</code>: Function to be executed for a incoming message</li></ul><p>See <code>subscribe2Intents()</code> for details.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L39-L51">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishStartSessionAction" href="#Main.SnipsHermesQnD.publishStartSessionAction"><code>Main.SnipsHermesQnD.publishStartSessionAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishStartSessionAction(text; siteId = CURRENT_SITE_ID,
     intentFilter = nothing, sendIntentNotRecognized = false,
     customData = nothing)</code></pre><p>MQTT publish start session with init action</p><p><strong>Arguments:</strong></p><ul><li><code>siteId</code>: ID of the site in which the session is started</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - a list of intent names to               restrict the NLU resolution of the answer of this query.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li><li><code>customData</code>: data to be sent to the service.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L223-L240">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishStartSessionNotification" href="#Main.SnipsHermesQnD.publishStartSessionNotification"><code>Main.SnipsHermesQnD.publishStartSessionNotification</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishStartSessionNotification(text; siteId = CURRENT_SITE_ID,
                                customData = nothing)</code></pre><p>MQTT publish start session with init notification</p><p><strong>Arguments:</strong></p><ul><li><code>siteId</code>: siteID</li><li><code>text</code>: text to be said via TTS</li><li><code>customData</code>: data to be sent to the service.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L265-L275">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishEndSession" href="#Main.SnipsHermesQnD.publishEndSession"><code>Main.SnipsHermesQnD.publishEndSession</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishEndSession(text; sessionId = CURRENT_SESSION_ID)</code></pre><p>MQTT publish end session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionId</code>: ID of the session to be terminated as String.            If omitted, sessionId of the current will be inserted.</li><li><code>text</code>: text to be said via TTS</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L158-L167">source</a></section><h2><a class="nav-anchor" id="Dialogue-manager-functions-1" href="#Dialogue-manager-functions-1">Dialogue manager functions</a></h2><p>In addition to functions to work with the dialogue manager, advanced direct dialogues are provided that can be included in the control flow of the program.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishContinueSession" href="#Main.SnipsHermesQnD.publishContinueSession"><code>Main.SnipsHermesQnD.publishContinueSession</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishContinueSession(text; sessionId = CURRENT_SESSION_ID,
     intentFilter = nothing,
     customData = nothing, sendIntentNotRecognized = false)</code></pre><p>MQTT publish continue session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionId</code>: ID of the current session as String</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - a list of intents names to               restrict the NLU resolution on the answer of this query.</li><li><code>customData</code>: Optional String - an update to the session&#39;s custom data.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L181-L198">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.listenIntentsOneTime" href="#Main.SnipsHermesQnD.listenIntentsOneTime"><code>Main.SnipsHermesQnD.listenIntentsOneTime</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">listenIntentsOneTime(intents; moreTopics = nothing)</code></pre><p>Subscribe to one or a list of Intents, but listen only until one matching intent is recognised.</p><p><strong>Arguments</strong></p><ul><li><code>intents</code>: AbstractString or List of AbstractString to define          intents to subscribe or nothing</li><li><code>moreTopics</code>: keyword arg to provide additional topics to subscribe to.</li></ul><p><strong>Value:</strong></p><p>Return values are topic (as String) and payload (as Dict or as String if JSON parsing is not possible). If the topic is an intent, only the intent id is returned (i.e.: devname:intentname without the leading hermes/intent/)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L58-L74">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.configureIntent" href="#Main.SnipsHermesQnD.configureIntent"><code>Main.SnipsHermesQnD.configureIntent</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">configureIntent(intent, on)</code></pre><p>Enable or disable an intent.</p><p><strong>Arguments:</strong></p><ul><li><code>intent</code>: one intent to be configured</li><li><code>on</code>: boolean value; if <code>true</code>, the intent is enabled; if <code>false</code> it is disabled.</li></ul><pre><code class="language-none"></code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L461-L470">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.askYesOrNoOrUnknown" href="#Main.SnipsHermesQnD.askYesOrNoOrUnknown"><code>Main.SnipsHermesQnD.askYesOrNoOrUnknown</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">askYesOrNoOrUnknown(question)</code></pre><p>Ask the question and listen to the intent &quot;ADoSnipsYesNoDE&quot; and return :yes if &quot;Yes&quot; is answered or :no if &quot;No&quot; or :unknown otherwise.</p><p><strong>Arguments:</strong></p><ul><li><code>question</code>: String with the question to be uttered by Snips</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L96-L105">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.askYesOrNo" href="#Main.SnipsHermesQnD.askYesOrNo"><code>Main.SnipsHermesQnD.askYesOrNo</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">askYesOrNo(question)</code></pre><p>Ask the question and listen to the intent &quot;ADoSnipsYesNoDE&quot; and return :true if &quot;Yes&quot; or &quot;No&quot; otherwise.</p><p><strong>Arguments:</strong></p><ul><li><code>question</code>: String with the question to uttered</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L141-L149">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishSay" href="#Main.SnipsHermesQnD.publishSay"><code>Main.SnipsHermesQnD.publishSay</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishSay(text; sessionId = CURRENT_SESSION_ID, siteId = nothing,
                lang = LANG, id = nothing, wait = true)</code></pre><p>Let the TTS say something.</p><p>The variant with a Symbol as first argument looks up the phrase in the dictionary of phrases for the selected language by calling <code>getText()</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>text</code>: text to be said via TTS</li><li><code>lang</code>: optional language code to use when saying the text.       If not specified, default language will be used</li><li><code>sessionId</code>: optional ID of the session if there is one</li><li><code>id</code>: optional request identifier. If provided, it will be passed back     in the response on hermes/tts/sayFinished.</li><li><code>wait</code>: wait until the massege is spoken (i.i. wait for the       MQTT-topic)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L313-L332">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isFalseDetection" href="#Main.SnipsHermesQnD.isFalseDetection"><code>Main.SnipsHermesQnD.isFalseDetection</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isFalseDetection(payload)</code></pre><p>Return true, if the current intent is <strong>not</strong> correct for the uttered command (i.e. false positive).</p><p><strong>Arguments:</strong></p><ul><li><code>payload</code>: Dictionary with the payload of a recognised intent.</li></ul><p><strong>Details:</strong></p><p>All lines of the <code>config.ini</code> are analysed, witch match expressions:</p><ul><li>`&lt;intentname&gt;:must_include:&lt;description&gt;=&lt;list of words&gt;</li></ul><p>An example would be:</p><ul><li><code>switchOnOff:must_include:just_words1=on,light</code></li><li><code>switchOnOff:must_chain:in_order=light,on</code></li><li><code>switchOnOff:must_span:start_to_end=switch,light,on</code></li><li><code>switchOnOff:must_span:start_to_end=switch,on</code></li></ul><p>The command must include all words in the correct order of at least one parameter lines and the words must span the complete line (i.e. the command starts with first word and ends with the last word of the list).</p><p>Several lines are possible; the last part of the parameter name is used as description and to make the parameter names unique.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L420-L446">source</a></section><h2><a class="nav-anchor" id="Functions-to-handle-intents-1" href="#Functions-to-handle-intents-1">Functions to handle intents</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.registerIntentAction" href="#Main.SnipsHermesQnD.registerIntentAction"><code>Main.SnipsHermesQnD.registerIntentAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">registerIntentAction(intent, developer, inModule, action)
registerIntentAction(intent, action)</code></pre><p>Add an intent to the list of intents to subscribe to. Each function that shall be executed if Snips recognises an intent must be registered with this function. The framework will collect all these links, subscribe to all needed intents and execute the respective functions. The links need not to be unique (in both directions): It is possible to assign several functions to one intent (all of them will be executed), or to assign one function to more then one intent.</p><p>The variant with only <code>(intent, action)</code> as arguments applies the variables CURRENT<em>DEVEL</em>NAME and CURRENT_MODULE as stored in the framework. The variants registerIntent... create topics with prefix <code>hermes/intent/developer:intent</code>.</p><p><strong>Arguments:</strong></p><ul><li>intent: Name of the intend (without developer name)</li><li>developer: Name of skill developer</li><li>inModule: current module (can be accessed with <code>@__MODULE__</code>)</li><li>action: the function to be linked with the intent</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/intents.jl#L1-L26">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.registerTriggerAction" href="#Main.SnipsHermesQnD.registerTriggerAction"><code>Main.SnipsHermesQnD.registerTriggerAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">registerTriggerAction(intent, developer, inModule, action)
registerTriggerAction(intent, action)</code></pre><p>Add an intent to the list of intents to subscribe to. Each function that shall be executed if Snips recognises The variants registerTrigger... create topics with prefix <code>QnD/trigger/developer:intent</code>.</p><p>See <code>registerIntentAction()</code> for details.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/intents.jl#L43-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getIntentActions" href="#Main.SnipsHermesQnD.getIntentActions"><code>Main.SnipsHermesQnD.getIntentActions</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getIntentActions()</code></pre><p>Return the list of all intent-function mappings for this app. The function is exported to deliver the mappings to the Main context.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/intents.jl#L70-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setIntentActions" href="#Main.SnipsHermesQnD.setIntentActions"><code>Main.SnipsHermesQnD.setIntentActions</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setIntentActions(intentActions)</code></pre><p>Overwrite the complete list of all intent-function mappings for this app. The function is exported to get the mappings from the Main context.</p><p><strong>Arguments:</strong></p><ul><li>intentActions: Array of intent-action mappings as Tuple of                (intent::AbstractString, developer::AbstractString,                 inModule::Module, action::Function)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/intents.jl#L86-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishSystemTrigger" href="#Main.SnipsHermesQnD.publishSystemTrigger"><code>Main.SnipsHermesQnD.publishSystemTrigger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishSystemTrigger(topic, trigger; develName = CURRENT_DEVEL_NAME)</code></pre><p>Publish a system trigger with topic and payload.</p><p><strong>Arguments:</strong></p><ul><li>topic: MQTT topic, with or w/o the developername. If no        developername is included, CURRENT<em>DEVEL</em>NAME will be added.        If the topic does not start with <code>qnd/trigger/</code>, this        will be added.</li><li>trigger: specific payload for the trigger.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/intents.jl#L105-L116">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>publishListenTrigger</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>isFalseDetection</code>. Check Documenter&#39;s build log for details.</p></div></div><h2><a class="nav-anchor" id="config.ini-functions-1" href="#config.ini-functions-1">config.ini functions</a></h2><p>Helper functions for read values from the file <code>config.ini</code>.</p><p><code>config.ini</code> files follow the normal rules as for all Snips apps, with one extension:</p><ul><li>no spaces around the <code>=</code></li><li>if value of the parameter (right side) includes commas, the value can be interpreted as a comma-separated list of values. In this case, the reader-function will return an array of Strings with the values (which an be accessed by their index).</li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getConfig" href="#Main.SnipsHermesQnD.getConfig"><code>Main.SnipsHermesQnD.getConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getConfig(name; multiple = false)</code></pre><p>Return the parameter value of the config.ini with name or nothing if the param does not exist. Return value is of type <code>AbstractString</code>, if it is a single value or of type <code>AbstractArray{AbstractString}</code> if the a list of values is read.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li><li><code>multiple</code>: if <code>true</code> an array of values is returned, even if             only a single value have been read.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L78-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getAllConfig" href="#Main.SnipsHermesQnD.getAllConfig"><code>Main.SnipsHermesQnD.getAllConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getAllConfig()</code></pre><p>Return a Dict with the complete <code>config.ini</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L113-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.readConfig" href="#Main.SnipsHermesQnD.readConfig"><code>Main.SnipsHermesQnD.readConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">readConfig(appDir)</code></pre><p>Read the lines of the App&#39;s config file and return a Dict with config values.</p><p><strong>Arguments:</strong></p><ul><li><code>appDir</code>: Directory of the currently running app.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L4-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.matchConfig" href="#Main.SnipsHermesQnD.matchConfig"><code>Main.SnipsHermesQnD.matchConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">matchConfig(name::Symbol, val::String)</code></pre><p>Return true if the parameter with name <code>name</code> of the config.ini has the value val or one element of the list as the value val.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li><li><code>val</code>: desired value</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L47-L56">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isInConfig" href="#Main.SnipsHermesQnD.isInConfig"><code>Main.SnipsHermesQnD.isInConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isInConfig(name)</code></pre><p>Return true if a parameter with name exists.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L124-L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isConfigValid" href="#Main.SnipsHermesQnD.isConfigValid"><code>Main.SnipsHermesQnD.isConfigValid</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isConfigValid(name; regex = r&quot;.&quot;, elem = 1, errorMsg = TEXTS[:error_config])</code></pre><p>Return <code>true</code>, if the parameter <code>name</code> have been read correctly from the <code>config.ini</code> file and <code>false</code> otherwise. By default &quot;correct&quot; means: it is aString with length &gt; 0. For a meire specific test, a regex can be provided.</p><p><strong>Arguments:</strong></p><ul><li>name: name of parameter as AbstractString or Symbol</li><li>regex: optional regex for the test</li><li>elem: element to be tested, if the parameter returns an array</li><li>errorMsg: alternative error message.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/config.jl#L143-L155">source</a></section><h2><a class="nav-anchor" id="Slot-access-functions-1" href="#Slot-access-functions-1">Slot access functions</a></h2><p>Functions to read values from slots of recognised intents.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.extractSlotValue" href="#Main.SnipsHermesQnD.extractSlotValue"><code>Main.SnipsHermesQnD.extractSlotValue</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">extractSlotValue(payload, slotName; multiple = false)</code></pre><p>Return the value of a slot.</p><p>Nothing is returned, if</p><ul><li>no slots in payload,</li><li>no slots with name slotName in payload,</li><li>no values in slot slotName.</li></ul><p>If multiple == <code>true</code>, a list of all slot values will be returned. If false, only the 1st one as String.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L31-L43">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isInSlot" href="#Main.SnipsHermesQnD.isInSlot"><code>Main.SnipsHermesQnD.isInSlot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isInSlot(payload, slotName, value)</code></pre><p>Return <code>true</code>, if the value is present in the slot slotName of the JSON payload (i.e. one of the slot values must match). Return <code>false</code> if something is wrong (value not in payload or no slots slotName.)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L69-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isOnOffMatched" href="#Main.SnipsHermesQnD.isOnOffMatched"><code>Main.SnipsHermesQnD.isOnOffMatched</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isOnOffMatched(payload, deviceName; siteId = CURRENT_SITE_ID)</code></pre><p>Action to be combined with the ADoSnipsOnOFF intent. Depending on the payload the function returns:</p><ul><li>:on if &quot;on&quot;</li><li>:off if &quot;off&quot;</li><li>:matched, if the device is matched but no on or off</li><li>:unmatched, if one of<ul><li>wrong siteId</li><li>wrong device</li></ul></li></ul><p><strong>Arguments:</strong></p><ul><li><code>payload</code>: payload of intent</li><li><code>siteId</code>: siteId of the device to be matched with the payload of intent           if <code>siteId == &quot;any&quot;</code>, the device will be matched w/o caring           about siteId or room.</li><li><code>deviceName</code> : name of device to be matched with the payload of intent</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L405-L422">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isValidOrEnd" href="#Main.SnipsHermesQnD.isValidOrEnd"><code>Main.SnipsHermesQnD.isValidOrEnd</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isValidOrEnd(param; errorMsg = &quot;parameter is nothing&quot;)</code></pre><p>End the session, with the message, if the param is <code>nothing</code> and returns false or true otherwise.</p><p>Function is a shortcut:</p><pre><code class="language-Julia">if param == nothing
    Snips.publishEndSession(:error)
    return true
end</code></pre><p>is:</p><pre><code class="language-Julia">Snips.isValidOrEnd(param, :error) || return true</code></pre><p><strong>Arguments:</strong></p><ul><li>param: any value (from slot or config.ini) that may be <code>nothing</code></li><li>errorMsg: Error as string or key of a text in the languages Dict (::Symbol).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/hermes.jl#L483-L505">source</a></section><h2><a class="nav-anchor" id="MQTT-functions-1" href="#MQTT-functions-1">MQTT functions</a></h2><p>Low-level API to MQTT messages (publish and subscribe). In the QuickAndDirty framework, these functions are calling Eclipse <code>mosquitto_pub</code> and <code>mosquitto_sub</code>. However this first (and preliminary) implementation is surpriningly robust and easy to maintain - there might be no need to change.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.subscribeMQTT" href="#Main.SnipsHermesQnD.subscribeMQTT"><code>Main.SnipsHermesQnD.subscribeMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">subscribeMQTT(topics, callback; hostname = nothing, port = nothing)</code></pre><p>Listen to one or more topics.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: AbstractString or List of AbtsractString to define         topics to subscribe</li><li><code>callback</code>: Function to be executed for a incoming message.</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to listen. If not specified           mosquitto_sub will be called without hostname/port           (using the default configuration of the system).</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, payload), where topic is a String and payload a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-format) or a String, if the payload is not a valid JSON.</p><p>The callback function is spawned.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/mqtt.jl#L8-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.readOneMQTT" href="#Main.SnipsHermesQnD.readOneMQTT"><code>Main.SnipsHermesQnD.readOneMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">readOneMQTT(topics; hostname = nothing, port = nothing)</code></pre><p>Listen to one or more topics until one message is retrieved and return topic as string and payload as Dict or as String if JSON parsing is not possible).</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: AbstractString or List of AbstractString to define         topics to subscribe</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to listen. If not specified           mosquitto_sub will be called without hostname/port           (using the default configuration of the system).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/mqtt.jl#L80-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishMQTT" href="#Main.SnipsHermesQnD.publishMQTT"><code>Main.SnipsHermesQnD.publishMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishMQTT(topic, payload, hostname = nothing, port = nothing)</code></pre><p>Publish a MQTT message.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: String with the topic</li><li><code>payload</code>: Dict() with message</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to use. If not specified           mosquitto_sub will be called without hostname/port           (using the default configuration of the system).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/mqtt.jl#L194-L206">source</a></section><h2><a class="nav-anchor" id="Handle-background-information-of-recognised-intent-1" href="#Handle-background-information-of-recognised-intent-1">Handle background information of recognised intent</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setSiteId" href="#Main.SnipsHermesQnD.setSiteId"><code>Main.SnipsHermesQnD.setSiteId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSiteId(siteId)</code></pre><p>Set the siteId in the Module SnipsHermesQnD (necessary to direct the say() output to the current room)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L114-L119">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getSiteId" href="#Main.SnipsHermesQnD.getSiteId"><code>Main.SnipsHermesQnD.getSiteId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSiteId()</code></pre><p>Return the siteId in the Module SnipsHermesQnD (necessary to direct the say() output to the current room)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L125-L130">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setSessionId" href="#Main.SnipsHermesQnD.setSessionId"><code>Main.SnipsHermesQnD.setSessionId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSessionId(sessionId)</code></pre><p>Set the sessionId in the Module SnipsHermesQnD. The sessionId will be used to publish Hermes messages inside a runing session. The framework handles this in the background.</p><p><strong>Arguments:</strong></p><ul><li>sessionId: as String from a Hermes payload.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L138-L147">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getSessionId" href="#Main.SnipsHermesQnD.getSessionId"><code>Main.SnipsHermesQnD.getSessionId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSessionId()</code></pre><p>Return the sessionId of the currently running session.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L153-L157">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setDeveloperName" href="#Main.SnipsHermesQnD.setDeveloperName"><code>Main.SnipsHermesQnD.setDeveloperName</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setDeveloperName(name)</code></pre><p>Set the developer name of the currently running app in the Module SnipsHermesQnD. The framework adds the name to MQTT messages in the background.</p><p><strong>Arguments:</strong></p><ul><li>developerName: Name of the developer of the current app                 i.e. the part before the colon of an intent name.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L165-L174">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getDeveloperName" href="#Main.SnipsHermesQnD.getDeveloperName"><code>Main.SnipsHermesQnD.getDeveloperName</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getDeveloperName()</code></pre><p>Return the name of the develpper of the currently running app.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L180-L184">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setModule" href="#Main.SnipsHermesQnD.setModule"><code>Main.SnipsHermesQnD.setModule</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setModule(currentModule)</code></pre><p>Set the module of the currently running app in SnipsHermesQnD. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>currentModule: The module in which the current skill is running.                (acessible via marco <code>@__MODULE__</code>)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L192-L201">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getModule" href="#Main.SnipsHermesQnD.getModule"><code>Main.SnipsHermesQnD.getModule</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getModule()</code></pre><p>Return the module of the currently running app.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L207-L211">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setAppDir" href="#Main.SnipsHermesQnD.setAppDir"><code>Main.SnipsHermesQnD.setAppDir</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setAppDir(appDir)</code></pre><p>Store the directory <code>appDir</code> as CURRENT<em>APP</em>DIR in the current session</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L263-L268">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getAppDir" href="#Main.SnipsHermesQnD.getAppDir"><code>Main.SnipsHermesQnD.getAppDir</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getAppDir()</code></pre><p>Return the directory of the currently running app (i.e. the variable CURRENT<em>APP</em>DIR)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L274-L279">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setAppName" href="#Main.SnipsHermesQnD.setAppName"><code>Main.SnipsHermesQnD.setAppName</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setAppName(appName)</code></pre><p>Store the name of the current app/module as CURRENT<em>APP</em>NAME in the current session</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L287-L292">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getAppName" href="#Main.SnipsHermesQnD.getAppName"><code>Main.SnipsHermesQnD.getAppName</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getAppName()</code></pre><p>Return the name of the currently running app (i.e. the variable CURRENT<em>APP</em>NAME)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L298-L303">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setTopic" href="#Main.SnipsHermesQnD.setTopic"><code>Main.SnipsHermesQnD.setTopic</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setTopic(topic)</code></pre><p>Set the topic for which the currently running app is working. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>topic: name of current topic</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L221-L229">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getTopic" href="#Main.SnipsHermesQnD.getTopic"><code>Main.SnipsHermesQnD.getTopic</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getTopic()</code></pre><p>Return the topic of the currently running app.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L235-L239">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setIntent" href="#Main.SnipsHermesQnD.setIntent"><code>Main.SnipsHermesQnD.setIntent</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setIntent(topic)</code></pre><p>Set the intent for which the currently running app is working. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>topic: name of current topic</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L246-L254">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getIntent" href="#Main.SnipsHermesQnD.getIntent"><code>Main.SnipsHermesQnD.getIntent</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getIntent()</code></pre><p>Return the intent name of the currently running app.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L265-L269">source</a></section><h2><a class="nav-anchor" id="Multi-language-utilities-1" href="#Multi-language-utilities-1">Multi-language utilities</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setLanguage" href="#Main.SnipsHermesQnD.setLanguage"><code>Main.SnipsHermesQnD.setLanguage</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setLanguage(lang)</code></pre><p>Set the default language for SnipsHermesQnD. Currently supported laguages are &quot;en&quot; and &quot;de&quot;.</p><p>This will affect publishSay() and all system messages. Log-messages will always be in English.</p><p><strong>Arguments</strong></p><ul><li>lang: one of <code>&quot;en&quot;</code> or <code>&quot;de&quot;</code>.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L165-L176">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.addText" href="#Main.SnipsHermesQnD.addText"><code>Main.SnipsHermesQnD.addText</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">addText(lang::AbstractString, key::Symbol, text)</code></pre><p>Add the text to the dictionary of text sniplets for the language <code>lang</code> and the key <code>key</code>.</p><p><strong>Arguments:</strong></p><ul><li>lang: String with language code (<code>&quot;en&quot;, &quot;de&quot;, ...</code>)</li><li>key: Symbol with unique key for the text</li><li>text: String or array of String with the text(s) to be uttered.</li></ul><p><strong>Details:</strong></p><p>If text is an Array, all texts will be saved and the function <code>Snips.langText()</code> will return a randomly selected text from the list.</p><p>If the key already exists, the new text will be added to the the Array of texts for a key.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L192-L209">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.langText" href="#Main.SnipsHermesQnD.langText"><code>Main.SnipsHermesQnD.langText</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">langText(key::Symbol)
langText(key::Nothing)
langText(key::AbstractString)</code></pre><p>Return the text in the languages dictionary for the key and the language set with <code>setLanguage()</code>.</p><p>If the key does not exists, the text in the default language is returned; if this also does not exist, an error message is returned.</p><p>The variants make sure that nothing or the key itself are returned if key is nothing or an AbstractString, respectively.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L224-L237">source</a></section><h2><a class="nav-anchor" id="Hardware-control-1" href="#Hardware-control-1">Hardware control</a></h2><p>Some devices can be directly controlled by the framework. In order to stay in the style of Snips, it is possible to run Shelly WiFi-switches without any cloud accounts and services. The Shelly-devices come with an own WiFi network. After installing the device just connect to Shelly&#39;s access point (somthing like <code>shelly1-35FA58</code>) and configure the switch for DHCP in your network with  teh selft-explaining the web-interface of the device. At no point it&#39;s necessary to create an account or use a cloud service (although the Shelly1 documentation recommends).</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setGPIO" href="#Main.SnipsHermesQnD.setGPIO"><code>Main.SnipsHermesQnD.setGPIO</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setGPIO(gpio, onoff::Symbol)</code></pre><p>Switch a GPIO on or off with pigs.</p><p><strong>Arguments:</strong></p><ul><li>gpio: ID of GPIO (not pinID)</li><li>onoff: one of :on or :off</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/gpio.jl#L75-L83">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.switchShelly1" href="#Main.SnipsHermesQnD.switchShelly1"><code>Main.SnipsHermesQnD.switchShelly1</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">switchShelly1(ip, action; timer = 10)</code></pre><p>Switch a shelly1 device with IP <code>ip</code> on or off, depending on the value given as action and return <code>true</code>, if successful.</p><p><strong>Arguments:</strong></p><ul><li><code>ip</code>: IP address or DNS name of Shelly1 device</li><li><code>action</code>: demanded action as symbol; one of <code>:on</code>, <code>:off</code> or <code>:timer</code>.</li><li><code>timer</code>: if action == <code>timer</code>, the device is switched on and          off again after <code>timer</code> secs (default 10s).</li></ul><p>For the API-doc of the Shelly devices see: <code>&lt;https://shelly-api-docs.shelly.cloud&gt;</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/shelly.jl#L7-L22">source</a></section><h2><a class="nav-anchor" id="Status-database-1" href="#Status-database-1">Status database</a></h2><p>The framework handles a database to save status about house and devices, controlled by the assistant. The database is stored on disk in order to persist in case of a system crash or restart.</p><p>Every skill can store and read Dicts() as entries with a unique key or values as field-value-pairs as part of an entry.</p><p>The db looks somehow like:</p><pre><code class="language-none">{
    &quot;irrigation&quot; :
    {
        &quot;time&quot; : &quot;2019-08-26T10:12:13.177&quot;
        &quot;writer&quot; : &quot;ADoSnipsIrrigation&quot;,
        &quot;payload&quot; :
        {
            &quot;status&quot; : &quot;on&quot;,
            &quot;next_status&quot; : &quot;off&quot;
        }
    }
}</code></pre><p>Location of the database file is <code>&lt;application_data_dir&gt;/ADoSnipsQnD/&lt;database_file&gt;</code> where <code>application_data_dir</code> and <code>database_file&gt;</code> are parameters in the <code>config.ini</code> of the framework.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.dbWritePayload" href="#Main.SnipsHermesQnD.dbWritePayload"><code>Main.SnipsHermesQnD.dbWritePayload</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dbWritePayload(key, payload)</code></pre><p>Write a complete payload to a database entry. The payload is overwitten if the entry already exists, or created otherwise.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li><li><code>payload</code>: payload of the entry with key <code>key</code>        to be written.</li><li><code>value</code>: value to be stored in the field.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/db.jl#L19-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.dbWriteValue" href="#Main.SnipsHermesQnD.dbWriteValue"><code>Main.SnipsHermesQnD.dbWriteValue</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dbWriteValue(key, field, value)</code></pre><p>Write a field=&gt;value pair to the payload of a database entry. The field is overwitten if the entry already exists, or created elsewise.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li><li><code>field</code>: database field of the payload of the entry with key <code>key</code>        to be written (<code>AbstractString</code> or <code>Symbol</code>).</li><li><code>value</code>: value to be stored in the field.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/db.jl#L60-L73">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.dbReadEntry" href="#Main.SnipsHermesQnD.dbReadEntry"><code>Main.SnipsHermesQnD.dbReadEntry</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dbReadEntry(key)</code></pre><p>Read the complete entry with the key <code>key</code> from the status database and return the entry as <code>Dict()</code> or nothing if not in the database.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/db.jl#L108-L118">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.dbReadValue" href="#Main.SnipsHermesQnD.dbReadValue"><code>Main.SnipsHermesQnD.dbReadValue</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dbReadValue(key, field)</code></pre><p>Read the field <code>field</code> of the  entry with the key <code>key</code> from the status database and return the value or nothing if not in the database.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li><li><code>field</code>: database field of the payload of the entry with key <code>key</code>        (<code>AbstractString</code> or <code>Symbol</code>).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/db.jl#L135-L147">source</a></section><h2><a class="nav-anchor" id="Scheduler-1" href="#Scheduler-1">Scheduler</a></h2><p>The QnD framework provides a scheduler which allows to execute system triggers at a specified time in the future.</p><p>Schedules are added by sending a trigger with the following format to the scheduler. A list of triggers can be scheduled with one trigger:</p><pre><code class="language-none">{
  &quot;origin&quot;: &quot;ADoSnipsAuto&quot;,
  &quot;topic&quot;: &quot;qnd/trigger/andreasdominik:ADoSnipsSchedule&quot;,
  &quot;siteId&quot;: &quot;default&quot;,
  &quot;sessionId&quot;: &quot;7dab7a26-84fb-4855-8ad0-acd955408072&quot;,
  &quot;trigger&quot;: {
    &quot;mode&quot;: &quot;add schedules&quot;,
    &quot;sessionId&quot;: &quot;7dab7a26-84fb-4855-8ad0-acd955408072&quot;,
    &quot;siteId&quot;: &quot;default&quot;,
    &quot;time&quot;: &quot;2019-08-26T14:07:55.623&quot;,
    &quot;origin&quot;: &quot;ADoSnipsAuto&quot;,
    &quot;actions&quot;: [
      {
        &quot;topic&quot;: &quot;qnd/trigger/andreasdominik:ADoSnipsLights&quot;,
        &quot;origin&quot;: &quot;ADoSnipsAuto&quot;,
        &quot;execute_time&quot;: &quot;2019-08-28T10:00:20.534&quot;,
        &quot;trigger&quot;: {
          &quot;settings&quot;: &quot;undefined&quot;,
          &quot;device&quot;: &quot;main_light&quot;,
          &quot;onOrOff&quot;: &quot;ON&quot;,
          &quot;room&quot;: &quot;default&quot;
        }
      },
      {
        &quot;topic&quot;: &quot;qnd/trigger/andreasdominik:ADoSnipsLights&quot;,
        &quot;origin&quot;: &quot;ADoSnipsAuto&quot;,
        &quot;execute_time&quot;: &quot;2019-08-28T10:00:30.534&quot;,
        &quot;trigger&quot;: {
          &quot;settings&quot;: &quot;undefined&quot;,
          &quot;device&quot;: &quot;main_light&quot;,
          &quot;onOrOff&quot;: &quot;OFF&quot;,
          &quot;room&quot;: &quot;default&quot;
        }
      }
    ]
  }
}</code></pre><p>A trigger with a <code>mode</code> od <code>&quot;delete all&quot;</code>, <code>&quot;delete by topic&quot;</code> or <code>&quot;delete by origin&quot;</code> will delete the matching schedules:</p><pre><code class="language-none">{
  &quot;origin&quot;: &quot;Main.ADoSnipsTemplate&quot;,
  &quot;topic&quot;: &quot;qnd/trigger/andreasdominik:ADoSnipsSchedule&quot;,
  &quot;siteId&quot;: &quot;default&quot;,
  &quot;sessionId&quot;: &quot;7dab7a26-84fb-4855-8ad0-acd955408072&quot;,
  &quot;trigger&quot;: {
    &quot;mode&quot;: &quot;delete all&quot;,
    &quot;sessionId&quot;: &quot;7dab7a26-84fb-4855-8ad0-acd955408072&quot;,
    &quot;siteId&quot;: &quot;default&quot;,
    &quot;topic&quot;: &quot;dummy&quot;,
    &quot;origin&quot;: &quot;dummy&quot;,
    &quot;time&quot;: &quot;2019-08-26T14:07:55.623&quot;
  }
}</code></pre><p>However, it is normally not necessary to set up these triggers manually; the following API functions provide an interface:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.schedulerAddAction" href="#Main.SnipsHermesQnD.schedulerAddAction"><code>Main.SnipsHermesQnD.schedulerAddAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">schedulerAddAction(executeTime, topic, trigger;
        sessionId = CURRENT_SESSION_ID,
        origin = CURRENT_APP_NAME,
        siteId = CURRENT_SITE_ID)</code></pre><p>Add the <code>trigger</code> to the database of scheduled actions for execution at <code>executeTime</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>executeTime</code>: DateTime object</li><li><code>topic</code>: topic to which the system trigger will be published.          topic has the format: <code>&quot;qnd/trigger/andreasdominik:ADoSnipsLights&quot;</code>.          The prefix <code>&quot;qnd/trigger/&quot;</code> and the developer name are added if          missing in the argument.</li><li><code>trigger</code>: The system trigger to be published as Dict(). Format of the          trigger is defined by the target skill.</li></ul><p><code>sessionId</code>, <code>origin</code> and <code>siteId</code> defaults to the current values, if not given. SessionId and origin can be used to select scheduled actions for deletion.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/schedule.jl#L6-L27">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.schedulerAddActions" href="#Main.SnipsHermesQnD.schedulerAddActions"><code>Main.SnipsHermesQnD.schedulerAddActions</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">schedulerAddActions(actions;
        sessionId = CURRENT_SESSION_ID,
        origin = CURRENT_APP_NAME,
        siteId = CURRENT_SITE_ID)</code></pre><p>Add all actions in the list of action objects to the database of scheduled actions for execution. The elements of <code>actions</code> can be created by <code>schedulerMakeAction()</code> and must include executeTime, topic and the trigger to be published.</p><ul><li><code>actions</code>: List of actions to be published. Format of the          trigger is defined by the target skill.</li></ul><p><code>sessionId</code>, <code>origin</code> and <code>siteId</code> defaults to the current values, if not given. SessionId and origin can be used to select scheduled actions for deletion.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/schedule.jl#L50-L67">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.schedulerMakeAction" href="#Main.SnipsHermesQnD.schedulerMakeAction"><code>Main.SnipsHermesQnD.schedulerMakeAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">schedulerMakeAction(executeTime, topic, trigger;
                        sessionId = CURRENT_SESSION_ID,
                        origin = CURRENT_APP_NAME,
                        siteId = CURRENT_SITE_ID)</code></pre><p>Return a <code>Dict</code> in the format for the QnD scheduler. A list of these object can be used to schedule many actions at once via <code>schedulerAddActions()</code>. (see documentation of <code>schedulerAddAction()</code> for details.)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/schedule.jl#L89-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.schedulerDeleteAll" href="#Main.SnipsHermesQnD.schedulerDeleteAll"><code>Main.SnipsHermesQnD.schedulerDeleteAll</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">schedulerDeleteAll()</code></pre><p>Delete all scheduled action triggers.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/schedule.jl#L118-L122">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>schedulerDeleteTopic</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>schedulerDeleteOrigin</code>. Check Documenter&#39;s build log for details.</p></div></div><h2><a class="nav-anchor" id="Utility-functions-1" href="#Utility-functions-1">Utility functions</a></h2><p>Little helpers to provide functionality which is commonly needed when developing a skill.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.readableDateTime" href="#Main.SnipsHermesQnD.readableDateTime"><code>Main.SnipsHermesQnD.readableDateTime</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">function readableDateTime(datetime::AbstractString; lang = LANG)
                          wholeDay = false, onlyDay = false)
function readableDateTime(datetime::DateTime; lang = LANG,
                          wholeDay = false, onlyDay = false)
function readableDate(datetime::Date; lang = LANG)</code></pre><p>Return human readable date and time, like &quot;Friday, 1. January 2018&quot;,  &quot;9 15&quot;</p><p>Supported languages: &quot;en&quot;, &quot;de&quot;, &quot;fr&quot;.</p><p><strong>Arguments:</strong></p><ul><li>datetime: date and optional time as ISO string or as DateTime object.</li><li>lang: Language code (e.g. &quot;en&quot; or &quot;de&quot;)</li><li>wholeDay: boolean, if true, no time is returned, instead &quot;whole day&quot;</li><li>onlyDay: just tell the day, not the time.</li></ul><p><strong>Value:</strong></p><p>String value with readable date and time.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/dates.jl#L37-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryrun" href="#Main.SnipsHermesQnD.tryrun"><code>Main.SnipsHermesQnD.tryrun</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryrun(cmd; wait = true, errorMsg = TEXTS[:error_script], silent = flase)</code></pre><p>Try to run an external command and returns true if successful or false if not.</p><p><strong>Arguments:</strong></p><ul><li>cmd: command to be executed on the shell</li><li>wait: if <code>true</code>, wait until the command has finished</li><li>errorMsg: AbstractString or key to multi-language dict with the           error message.</li><li>silent: if <code>true</code>, no error is published, if something went wrong.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L87-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.ping" href="#Main.SnipsHermesQnD.ping"><code>Main.SnipsHermesQnD.ping</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">ping(ip; c = 1, W = 1)</code></pre><p>Return true, if a ping to the ip-address (or name) is successful.</p><p><strong>Arguments:</strong></p><ul><li>c: number of pings to send (default: 1)</li><li>W: timeout (default 1 sec)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L117-L126">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryReadTextfile" href="#Main.SnipsHermesQnD.tryReadTextfile"><code>Main.SnipsHermesQnD.tryReadTextfile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryReadTextfile(fname, errorMsg = TEXTS[:error_read])</code></pre><p>Try to read a text file from file system and return the text as <code>String</code> or an <code>String</code> of length 0, if something went wrong.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L140-L146">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryParseJSONfile" href="#Main.SnipsHermesQnD.tryParseJSONfile"><code>Main.SnipsHermesQnD.tryParseJSONfile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryParseJSONfile(fname; quiet = false)</code></pre><p>Parse a JSON file and return a hierarchy of Dicts with the content.</p><ul><li>keys are changed to Symbol</li><li>on error, an empty Dict() is returned</li></ul><p><strong>Arguments:</strong></p><ul><li>fname: filename</li><li>quiet: if false Snips utters an error message</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L84-L95">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryParseJSON" href="#Main.SnipsHermesQnD.tryParseJSON"><code>Main.SnipsHermesQnD.tryParseJSON</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryParseJSON(text)</code></pre><p>parses a JSON and returns a hierarchy of Dicts{Symbol, Any} and Arrays with the content or a string (text), if text is not a valid JSON, the raw string is returned.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L6-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryMkJSON" href="#Main.SnipsHermesQnD.tryMkJSON"><code>Main.SnipsHermesQnD.tryMkJSON</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryMkJSON(payload)</code></pre><p>Create a JSON representation of the input (nested Dict or Array) or return an empty string if not possible.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/snips.jl#L65-L70">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>printLog</code>. Check Documenter&#39;s build log for details.</p></div></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.printDebug" href="#Main.SnipsHermesQnD.printDebug"><code>Main.SnipsHermesQnD.printDebug</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">printDebug(s)</code></pre><p>Print the message only, if debug-mode is on. Debog-modes include</p><ul><li><code>none</code>: no debugging</li><li><code>logging</code>: only printDebug() will print</li><li><code>no_parallel</code>: logging is on and skill actions will                will not be spawned (as a result, the listener is                off-line while a skill-action is running).</li></ul><p>Current App-name is printed as prefix.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/4db2a1eded21f9126901d764d4e6ccfa92b10daa/SnipsHermesQnD/src/utils.jl#L324-L335">source</a></section><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#Main.SnipsHermesQnD.addText"><code>Main.SnipsHermesQnD.addText</code></a></li><li><a href="#Main.SnipsHermesQnD.askYesOrNo"><code>Main.SnipsHermesQnD.askYesOrNo</code></a></li><li><a href="#Main.SnipsHermesQnD.askYesOrNoOrUnknown"><code>Main.SnipsHermesQnD.askYesOrNoOrUnknown</code></a></li><li><a href="#Main.SnipsHermesQnD.configureIntent"><code>Main.SnipsHermesQnD.configureIntent</code></a></li><li><a href="#Main.SnipsHermesQnD.dbReadEntry"><code>Main.SnipsHermesQnD.dbReadEntry</code></a></li><li><a href="#Main.SnipsHermesQnD.dbReadValue"><code>Main.SnipsHermesQnD.dbReadValue</code></a></li><li><a href="#Main.SnipsHermesQnD.dbWritePayload"><code>Main.SnipsHermesQnD.dbWritePayload</code></a></li><li><a href="#Main.SnipsHermesQnD.dbWriteValue"><code>Main.SnipsHermesQnD.dbWriteValue</code></a></li><li><a href="#Main.SnipsHermesQnD.extractSlotValue"><code>Main.SnipsHermesQnD.extractSlotValue</code></a></li><li><a href="#Main.SnipsHermesQnD.getAllConfig"><code>Main.SnipsHermesQnD.getAllConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.getAppDir"><code>Main.SnipsHermesQnD.getAppDir</code></a></li><li><a href="#Main.SnipsHermesQnD.getAppName"><code>Main.SnipsHermesQnD.getAppName</code></a></li><li><a href="#Main.SnipsHermesQnD.getConfig"><code>Main.SnipsHermesQnD.getConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.getDeveloperName"><code>Main.SnipsHermesQnD.getDeveloperName</code></a></li><li><a href="#Main.SnipsHermesQnD.getIntent"><code>Main.SnipsHermesQnD.getIntent</code></a></li><li><a href="#Main.SnipsHermesQnD.getIntentActions"><code>Main.SnipsHermesQnD.getIntentActions</code></a></li><li><a href="#Main.SnipsHermesQnD.getModule"><code>Main.SnipsHermesQnD.getModule</code></a></li><li><a href="#Main.SnipsHermesQnD.getSessionId"><code>Main.SnipsHermesQnD.getSessionId</code></a></li><li><a href="#Main.SnipsHermesQnD.getSiteId"><code>Main.SnipsHermesQnD.getSiteId</code></a></li><li><a href="#Main.SnipsHermesQnD.getTopic"><code>Main.SnipsHermesQnD.getTopic</code></a></li><li><a href="#Main.SnipsHermesQnD.isConfigValid"><code>Main.SnipsHermesQnD.isConfigValid</code></a></li><li><a href="#Main.SnipsHermesQnD.isFalseDetection"><code>Main.SnipsHermesQnD.isFalseDetection</code></a></li><li><a href="#Main.SnipsHermesQnD.isInConfig"><code>Main.SnipsHermesQnD.isInConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.isInSlot"><code>Main.SnipsHermesQnD.isInSlot</code></a></li><li><a href="#Main.SnipsHermesQnD.isOnOffMatched"><code>Main.SnipsHermesQnD.isOnOffMatched</code></a></li><li><a href="#Main.SnipsHermesQnD.isValidOrEnd"><code>Main.SnipsHermesQnD.isValidOrEnd</code></a></li><li><a href="#Main.SnipsHermesQnD.langText"><code>Main.SnipsHermesQnD.langText</code></a></li><li><a href="#Main.SnipsHermesQnD.listenIntentsOneTime"><code>Main.SnipsHermesQnD.listenIntentsOneTime</code></a></li><li><a href="#Main.SnipsHermesQnD.matchConfig"><code>Main.SnipsHermesQnD.matchConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.ping"><code>Main.SnipsHermesQnD.ping</code></a></li><li><a href="#Main.SnipsHermesQnD.printDebug"><code>Main.SnipsHermesQnD.printDebug</code></a></li><li><a href="#Main.SnipsHermesQnD.publishContinueSession"><code>Main.SnipsHermesQnD.publishContinueSession</code></a></li><li><a href="#Main.SnipsHermesQnD.publishEndSession"><code>Main.SnipsHermesQnD.publishEndSession</code></a></li><li><a href="#Main.SnipsHermesQnD.publishMQTT"><code>Main.SnipsHermesQnD.publishMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.publishSay"><code>Main.SnipsHermesQnD.publishSay</code></a></li><li><a href="#Main.SnipsHermesQnD.publishStartSessionAction"><code>Main.SnipsHermesQnD.publishStartSessionAction</code></a></li><li><a href="#Main.SnipsHermesQnD.publishStartSessionNotification"><code>Main.SnipsHermesQnD.publishStartSessionNotification</code></a></li><li><a href="#Main.SnipsHermesQnD.publishSystemTrigger"><code>Main.SnipsHermesQnD.publishSystemTrigger</code></a></li><li><a href="#Main.SnipsHermesQnD.readConfig"><code>Main.SnipsHermesQnD.readConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.readOneMQTT"><code>Main.SnipsHermesQnD.readOneMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.readableDateTime"><code>Main.SnipsHermesQnD.readableDateTime</code></a></li><li><a href="#Main.SnipsHermesQnD.registerIntentAction"><code>Main.SnipsHermesQnD.registerIntentAction</code></a></li><li><a href="#Main.SnipsHermesQnD.registerTriggerAction"><code>Main.SnipsHermesQnD.registerTriggerAction</code></a></li><li><a href="#Main.SnipsHermesQnD.schedulerAddAction"><code>Main.SnipsHermesQnD.schedulerAddAction</code></a></li><li><a href="#Main.SnipsHermesQnD.schedulerAddActions"><code>Main.SnipsHermesQnD.schedulerAddActions</code></a></li><li><a href="#Main.SnipsHermesQnD.schedulerDeleteAll"><code>Main.SnipsHermesQnD.schedulerDeleteAll</code></a></li><li><a href="#Main.SnipsHermesQnD.schedulerMakeAction"><code>Main.SnipsHermesQnD.schedulerMakeAction</code></a></li><li><a href="#Main.SnipsHermesQnD.setAppDir"><code>Main.SnipsHermesQnD.setAppDir</code></a></li><li><a href="#Main.SnipsHermesQnD.setAppName"><code>Main.SnipsHermesQnD.setAppName</code></a></li><li><a href="#Main.SnipsHermesQnD.setDeveloperName"><code>Main.SnipsHermesQnD.setDeveloperName</code></a></li><li><a href="#Main.SnipsHermesQnD.setGPIO"><code>Main.SnipsHermesQnD.setGPIO</code></a></li><li><a href="#Main.SnipsHermesQnD.setIntent"><code>Main.SnipsHermesQnD.setIntent</code></a></li><li><a href="#Main.SnipsHermesQnD.setIntentActions"><code>Main.SnipsHermesQnD.setIntentActions</code></a></li><li><a href="#Main.SnipsHermesQnD.setLanguage"><code>Main.SnipsHermesQnD.setLanguage</code></a></li><li><a href="#Main.SnipsHermesQnD.setModule"><code>Main.SnipsHermesQnD.setModule</code></a></li><li><a href="#Main.SnipsHermesQnD.setSessionId"><code>Main.SnipsHermesQnD.setSessionId</code></a></li><li><a href="#Main.SnipsHermesQnD.setSiteId"><code>Main.SnipsHermesQnD.setSiteId</code></a></li><li><a href="#Main.SnipsHermesQnD.setTopic"><code>Main.SnipsHermesQnD.setTopic</code></a></li><li><a href="#Main.SnipsHermesQnD.subscribe2Intents"><code>Main.SnipsHermesQnD.subscribe2Intents</code></a></li><li><a href="#Main.SnipsHermesQnD.subscribe2Topics"><code>Main.SnipsHermesQnD.subscribe2Topics</code></a></li><li><a href="#Main.SnipsHermesQnD.subscribeMQTT"><code>Main.SnipsHermesQnD.subscribeMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.switchShelly1"><code>Main.SnipsHermesQnD.switchShelly1</code></a></li><li><a href="#Main.SnipsHermesQnD.tryMkJSON"><code>Main.SnipsHermesQnD.tryMkJSON</code></a></li><li><a href="#Main.SnipsHermesQnD.tryParseJSON"><code>Main.SnipsHermesQnD.tryParseJSON</code></a></li><li><a href="#Main.SnipsHermesQnD.tryParseJSONfile"><code>Main.SnipsHermesQnD.tryParseJSONfile</code></a></li><li><a href="#Main.SnipsHermesQnD.tryReadTextfile"><code>Main.SnipsHermesQnD.tryReadTextfile</code></a></li><li><a href="#Main.SnipsHermesQnD.tryrun"><code>Main.SnipsHermesQnD.tryrun</code></a></li></ul><footer><hr/><a class="previous" href="../../details/"><span class="direction">Previous</span><span class="title">Some Details</span></a><a class="next" href="../../LICENSE/"><span class="direction">Next</span><span class="title">License</span></a></footer></article></body></html>
