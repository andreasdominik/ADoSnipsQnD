<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SnipsHermesQnD · ADoSnipsQnD</title><link rel="canonical" href="https://andreasdominik.github.io/ADoSnipsQnD/dev/snipsHermesQnD/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.svg" alt="ADoSnipsQnD logo"/></a><h1>ADoSnipsQnD</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li class="current"><a class="toctext" href>SnipsHermesQnD</a><ul class="internal"><li><a class="toctext" href="#Julia-1">Julia</a></li><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Template-skill-1">Template skill</a></li></ul></li><li><a class="toctext" href="../makeskill/">New skill tutorial</a></li><li><a class="toctext" href="../details/">Some Details</a></li><li><a class="toctext" href="../api/api/">API Documentation</a></li><li><a class="toctext" href="../LICENSE/">License</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>SnipsHermesQnD</a></li></ul><a class="edit-page" href="https://github.com/andreasdominik/ADoSnipsQnD/blob/master/docs/src/snipsHermesQnD.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>SnipsHermesQnD</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="The-SnipsHermesQnD-framework-1" href="#The-SnipsHermesQnD-framework-1">The SnipsHermesQnD framework</a></h1><h2><a class="nav-anchor" id="Julia-1" href="#Julia-1">Julia</a></h2><p>This template skill is (like the entire SnipsHermesQnD framework) written in the modern programming language Julia (because Julia is faster then Python and coding is much easier and much more straight forward). However &quot;Pythonians&quot; often need some time to get familiar with Julia.</p><p>If you are ready for the step forward, start here: <a href="https://julialang.org/">https://julialang.org/</a></p><h3><a class="nav-anchor" id="Installation-of-Julia-language-1" href="#Installation-of-Julia-language-1">Installation of Julia language</a></h3><p>Installation of Julia is simple:</p><ul><li>just download the tar-ball for your architecture (most probably Raspberry-Pi/arm).</li><li>save it in an appropriate folder (<code>/opt/Julia/</code> might be a good idea).</li><li>unpack: <code>tar -xvzf julia-&lt;version&gt;.tar.gz</code></li><li>make sure, that the julia executable is executable. You find it as <code>/opt/Julia/julia-&lt;version&gt;/bin/julia</code>. If it is not executable run <code>chmod 755 /opt/Julia/julia-&lt;version&gt;/bin/julia</code></li><li>Add a symbolic link from a location which is in the search path, such as <code>/usr/local/bin</code>:</li></ul><p>All together:</p><pre><code class="language-sh">sudo chown $(whoami) /opt    
mkdir /opt/Julia    
mv ~/Downloads/julia-&lt;version&gt;.tar.gz .    
tar -xvzf julia-&lt;version&gt;.tar.gz    
chmod 755 /opt/Julia/julia-&lt;version&gt;/bin/julia    
cd /usr/local/bin    
sudo ln -s /opt/Julia/julia-&lt;version&gt;/bin/julia    </code></pre><p><strong>... and you are done!</strong></p><p>For a very quick <em>get into,</em> see   <a href="http://learnxinyminutes.com/docs/julia/">learn Julia in Y minutes</a>.</p><h3><a class="nav-anchor" id="IDEs-1" href="#IDEs-1">IDEs</a></h3><p>Softwarte development is made comfortable by IDEs (Integrated Development Environements). For Julia, best choices include:</p><ul><li><a href="http://atom.io/">Atom editor</a> with the <a href="http://junolab.org">Juno package</a> installed (my favourite).</li><li><a href="https://code.visualstudio.com">Visual Studio Code</a> also provides very good support for Julia.</li><li>Playing around and learning is best done with <a href="http://jupyter.org">Jupyter notebooks</a>. The Jupyter stack can be installed easily from the Julia REPL by adding the Package <code>IJulia</code>.</li></ul><h3><a class="nav-anchor" id="Noteworthy-differences-between-Julia-and-Python-1" href="#Noteworthy-differences-between-Julia-and-Python-1">Noteworthy differences between Julia and Python</a></h3><p>Julia code looks very much like Python code, except of</p><ul><li>there are no colons,</li><li>whitespaces have no meaning; blocks end with an <code>end</code>,</li><li>sometimes types should be given explicitly (for performance and explicit polymorphism).</li></ul><p>However, Julia is a typed language with all advantages; and code is run-time-compiled only once, with consequences:</p><ul><li>If a function is called for the first time, there is a time lack, because the compiler must finish his work before the actual code is executed.</li><li>Future function calls will use the compiled machine code, making Julia code execute as fast as compiled c-code!</li></ul><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><h3><a class="nav-anchor" id="Installation-of-the-framework-1" href="#Installation-of-the-framework-1">Installation of the framework</a></h3><p>The framework is installed, by adding the app <code>ADoSnipsHermesQnD</code> to a Snips assistant. This will install the library and general <code>SwitchOnOff</code> intent.</p><p>It is a good idea to install the template skill in addition. The skill is fully functional and can be used to explore the framework.</p><p>MQTT communication is performed via <code>Eclipse modquitto</code>, therefore this must be installed, too. On a Raspberry Pi the packages <code>mosquitto</code> and <code>mosquitto-clients</code> are needed:</p><pre><code class="language-sh">sudo apt-get install mosquitto
sudo apt-get install mosquitto-clients</code></pre><h3><a class="nav-anchor" id="App-ADoSnipsHermesQnD-1" href="#App-ADoSnipsHermesQnD-1">App ADoSnipsHermesQnD</a></h3><p>To use skills, developed with SnipsHermesQnD, just add the ADoSnipsHermesQnD App to your assistant. There are versions in German and English language (<code>ADoSnipsHermesQnD_DE</code> and <code>ADoSnipsHermesQnD_EN</code>).</p><h3><a class="nav-anchor" id="Adapt-timeouts-1" href="#Adapt-timeouts-1">Adapt timeouts</a></h3><p>One major difference between the languages Python and Julia is that Julia is compiled only once at runtime with a compiler that produces highly optimised code.</p><p>As a result, Julia code runs as fast as other compiled code, such as c code. The downside is the time necessary for compilation. Whereas Python scripts just run away when started (because the compile cost is averaged over the entire runtime), Julia functions need an extra time for compilation, when they are started for the first time.</p><p>In consequence there is a time lack at the start of a Julia program; and for the same reason additional time is necessary when a function is executed for the first time.</p><p>Some things need to be considered to handle this in the Snips environement:</p><ul><li>When the Snips skill manager starts an assistant, the Julia apps will need up to 1 minute on a Rsapberry Pi until they are ready. When watching the processes with <code>top</code> or <code>htop</code>, the Julia-processes are visible at the top with 100% CPU load. This is the compiler!</li><li>The settings for <code>session_timeout</code> and <code>lambda_timeout</code> in the Snips configuration file <code>snips.toml</code> should be set to a high value (such as 1 minute) in order to keep a session alive until the app reacts the first time. This is only an issue when a function behind an intent is executed for the first time, any subsequent call will be very fast.</li></ul><h2><a class="nav-anchor" id="Template-skill-1" href="#Template-skill-1">Template skill</a></h2><p>The template <code>ADosnipsTemplate</code> is already a fully functional skill. To test it, just add the ADoSnipsTemplate-skill to your assistant in the Snips console and update your assistant with sam (<code>sam update-assistant</code>). The skill is available in English and German and shows how the multi-language support of the framework works.</p><p>During installation with <code>sam</code> you will be asked to confirm the settings in <code>config.ini</code>.</p><ul><li>Please set the language to the laguage you need (currently <code>en</code> and <code>de</code> are supported)</li><li>Please give your assistant a name. The Skill will repeat the name, when activated in order to show the code necessary to access <code>config.ini</code> values.</li></ul><p>The Template Skill includes the intent <code>pleaseRepeat</code> (as <code>pleaseRepeatDE</code> and <code>pleaseRepeatEN</code>) which allows to say things like:</p><pre><code class="language-Julia">&quot;please repeat the word holydays&quot;
&quot;please say: movie&quot;
...</code></pre><p>or in German:</p><pre><code class="language-Julia">&quot;Bitte sprich mit nach: Auto&quot;
&quot;Bitte sage: Kaffeemaschine&quot;
...</code></pre><p>The app will repeat the word.</p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="../makeskill/"><span class="direction">Next</span><span class="title">New skill tutorial</span></a></footer></article></body></html>
